<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SKILLNAV - Learner Profile Builder</title>
  <style> 
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #2E2E2E;
    color: white;
    line-height: 1.6;
    padding: 20px;
}

.navbar {
    background-color: #333;
    padding: 15px 0;
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-bottom: 30px;
}

.navbar a {
    color: #ffffff;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s;
}

.navbar a:hover, .navbar a.active {
    background-color: #4CAF50;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.header {
    text-align: center;
    margin-bottom: 40px;
}

.header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    color: #4CAF50;
}

.header p {
    color: #ccc;
    font-size: 1.1rem;
    font-style: italic;
}

/* Learning Path specific styles */
.learning-path-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 30px;
}

@media (max-width: 768px) {
    .learning-path-container {
        grid-template-columns: 1fr;
    }
}

.input-section, .path-preview {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 25px;
    backdrop-filter: blur(10px);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    color: #ccc;
    font-weight: 500;
    font-size: 1.1rem;
}

select,
textarea,
input[type="text"] {
    width: 100%;
    padding: 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    font-size: 1rem;
    color: white;
    transition: border-color 0.3s;
}

select:focus,
textarea:focus,
input[type="text"]:focus {
    outline: none;
    border-color: #4CAF50;
}

select option {
    background: #2E2E2E;
    color: white;
}

.skills-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
    margin-top: 10px;
}

.skill-checkbox {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    transition: background-color 0.3s;
}

.skill-checkbox:hover {
    background: rgba(255, 255, 255, 0.1);
}

.skill-checkbox input {
    margin-right: 10px;
}

.skill-checkbox label {
    color: #ccc;
    margin-bottom: 0;
    cursor: pointer;
    font-weight: normal;
}

.preference-options {
    display: flex;
    gap: 20px;
    margin-top: 10px;
}

.preference-option {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    transition: background-color 0.3s;
}

.preference-option:hover {
    background: rgba(255, 255, 255, 0.1);
}

.preference-option input {
    margin-right: 10px;
}

.preference-option label {
    color: #ccc;
    margin-bottom: 0;
    cursor: pointer;
    font-weight: normal;
}

.aspiration-preview {
    background: rgba(255, 255, 255, 0.1);
    border-left: 4px solid #4CAF50;
    padding: 20px;
    margin-top: 15px;
    border-radius: 0 8px 8px 0;
    display: none;
    backdrop-filter: blur(10px);
}

.aspiration-preview h3 {
    color: #4CAF50;
    margin-bottom: 10px;
}

.intent-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.intent-tag {
    background-color: #4CAF50;
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 14px;
}

button {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 15px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    width: 100%;
    transition: background-color 0.3s;
    margin-top: 10px;
}

button:hover {
    background-color: #45a049;
}

.form-footer {
    text-align: center;
    margin-top: 20px;
    color: #ccc;
    font-size: 14px;
    font-style: italic;
}

.card {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px;
    backdrop-filter: blur(10px);
}

.card h4 {
    color: #4CAF50;
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.card ol {
    padding-left: 20px;
}

.card li {
    margin-bottom: 8px;
    padding: 5px 0;
}

.path-visualization {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 25px;
    margin-top: 30px;
    backdrop-filter: blur(10px);
    display: none;
}

.path-step {
    background: rgba(255, 255, 255, 0.05);
    border-left: 4px solid #4CAF50;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 0 8px 8px 0;
}

.path-step h4 {
    color: #4CAF50;
    margin-bottom: 8px;
}

/* Checkbox and Radio styling */
input[type="checkbox"] {
    accent-color: #4CAF50;
    transform: scale(1.1);
}

input[type="radio"] {
    accent-color: #4CAF50;
    transform: scale(1.1);
}

/* Placeholder text color */
::placeholder {
    color: #999;
}

/* Selection color */
::selection {
    background: #4CAF50;
    color: white;
}

/* Responsive Design */
@media (max-width: 768px) {
    .skills-container {
        grid-template-columns: 1fr;
    }

    .preference-options {
        flex-direction: column;
        gap: 10px;
    }

    .navbar {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
    }

    .container {
        padding: 0 15px;
    }

    .header h1 {
        font-size: 2rem;
    }
}

@media (max-width: 600px) {
    body {
        padding: 10px;
    }
    
    .container {
        padding: 0 10px;
    }
    
    .header h1 {
        font-size: 1.8rem;
    }
    
    .form-group textarea,
    select,
    input[type="text"] {
        padding: 12px;
    }
}
  </style>
</head>
<body>
  <div class="navbar">
        <a href="home.html">Home</a>
        <a href="index.html" class="active">Career Path</a>
        <a href="resume.html">Resume Analysis</a>
        <a href="domains.html">Career Domains</a>
    </div>
    <div class="header">
    <h1>Career Path</h1>
    <p>"Explore various domains in the industry and get complete roadmap for your career journey"</p>
</div>
  <div class="container">
    <h1>Learner Profile Builder</h1>
    <p class="subtitle">Help us understand your background and goals to recommend the best learning path</p>
    
    <form id="learnerProfileForm">
      <!-- Education -->
      <div class="form-group">
        <label for="educationLevel">Education Level</label>
        <select id="educationLevel" required>
          <option value="">Select your education level</option>
          <option value="high-school">High School</option>
          <option value="diploma">Diploma/Certificate</option>
          <option value="associate">Associate Degree</option>
          <option value="bachelor">Bachelor's Degree</option>
          <option value="master">Master's Degree</option>
          <option value="phd">PhD/Doctorate</option>
          <option value="other">Other</option>
        </select>
      </div>
      
      <!-- Skills -->
      <div class="form-group">
        <label>Skills You Have</label>
        <div class="skills-container">
                    <div class="skill-checkbox"><input type="checkbox" value="Python"> Cloud Computing</div>
          <div class="skill-checkbox"><input type="checkbox" value="Python"> Python</div>
          <div class="skill-checkbox"><input type="checkbox" value="Java"> Java</div>
          <div class="skill-checkbox"><input type="checkbox" value="HTML/CSS"> HTML/CSS</div>
          <div class="skill-checkbox"><input type="checkbox" value="JavaScript"> JavaScript</div>
          <div class="skill-checkbox"><input type="checkbox" value="SQL"> SQL</div>
          <div class="skill-checkbox"><input type="checkbox" value="Excel"> Excel</div>
          <div class="skill-checkbox"><input type="checkbox" value="Digital Marketing"> Digital Marketing</div>
          <div class="skill-checkbox"><input type="checkbox" value="Graphic Design"> Graphic Design</div>
          <div class="skill-checkbox"><input type="checkbox" value="Content Writing"> Content Writing</div>
          <div class="skill-checkbox"><input type="checkbox" value="Project Management"> Project Management</div>
          <div class="skill-checkbox"><input type="checkbox" value="Data Analysis"> Data Analysis</div>
          <div class="skill-checkbox"><input type="checkbox" value="Communication"> Communication</div>
        </div>
      </div>
      
      <!-- Career Aspiration -->
      <div class="form-group">
        <label for="careerAspiration">Career Aspiration</label>
        <textarea id="careerAspiration" rows="4" placeholder="Describe your career goals..."></textarea>
        <div class="aspiration-preview" id="aspirationPreview">
          <h3>Detected Career Intent</h3>
          <p id="intentSummary">Based on your input, we've identified the following career interests:</p>
          <div class="intent-tags" id="intentTags"></div>
        </div>
      </div>
      
      <!-- Preference -->
      <div class="form-group">
        <label>Learning Preference</label>
        <div class="preference-options">
          <div class="preference-option"><input type="radio" name="learningPreference" value="short-term" checked> Short-term</div>
          <div class="preference-option"><input type="radio" name="learningPreference" value="medium-term"> Medium-term</div>
          <div class="preference-option"><input type="radio" name="learningPreference" value="long-term"> Long-term</div>
        </div>
      </div>
      
      <button type="submit">Build My Learner Profile</button>
    </form>
    
    <div id="recommendations"></div>
    
    <div class="form-footer">
      <p>Your profile will help us recommend the most suitable courses and career paths</p>
    </div>
  </div>

  <script>
    // Extract simple intents (unchanged)
    document.getElementById('careerAspiration').addEventListener('input', function() {
      const aspirationText = this.value.trim();
      const preview = document.getElementById('aspirationPreview');
      const intentTags = document.getElementById('intentTags');
      if (aspirationText.length > 10) {
        const extractedIntents = extractCareerIntent(aspirationText);
        if (extractedIntents.length > 0) {
          preview.style.display = 'block';
          intentTags.innerHTML = '';
          extractedIntents.forEach(intent => {
            const tag = document.createElement('span');
            tag.className = 'intent-tag';
            tag.textContent = intent;
            intentTags.appendChild(tag);
          });
        } else preview.style.display = 'none';
      } else preview.style.display = 'none';
    });
    
    function extractCareerIntent(text) {
      const intents = [];
      const lowerText = text.toLowerCase();
      if (lowerText.includes('data scientist')) intents.push('Data Science');
      if (lowerText.includes('web developer')) intents.push('Web Development');
      if (lowerText.includes('mobile app')) intents.push('Mobile Development');
      if (lowerText.includes('cloud')) intents.push('Cloud Computing');
      if (lowerText.includes('cyber security')) intents.push('Cybersecurity');
      return intents;
    }

    async function callAPI(payload) {
      const url = "http://localhost:5000/predict"; // Flask backend
      const res = await fetch(url, {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(payload)
      });
      return await res.json();
    }

    document.getElementById('learnerProfileForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const educationLevel = document.getElementById('educationLevel').value;
      const selectedSkills = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
      const careerAspiration = document.getElementById('careerAspiration').value;
      const learningPreference = document.querySelector('input[name="learningPreference"]:checked').value;

      const payload = { educationLevel, skills: selectedSkills, aspiration: careerAspiration, preference: learningPreference };
      document.getElementById('recommendations').innerHTML = '<p>Loading recommendations...</p>';
      try {
        const result = await callAPI(payload);
        let html = '';
        if (result.courses) {
          html += '<div class="card"><h4>Suggested Courses</h4><ol>';
          result.courses.forEach(c => html += `<li>${c.course} — ${(c.score||0).toFixed(3)}</li>`);
          html += '</ol></div>';
        }
        if (result.job_roles) {
          html += '<div class="card"><h4>Suggested Job Roles</h4><ol>';
          result.job_roles.forEach(j => html += `<li>${j.job} — ${(j.score||0).toFixed(3)}</li>`);
          html += '</ol></div>';
        }
        document.getElementById('recommendations').innerHTML = html || '<p>No recommendations found</p>';
      } catch (err) {
        document.getElementById('recommendations').innerHTML = `<p style="color:red;">Error: ${err.message}</p>`;
      }
    });
  </script>
</body>
</html>
